function validInput(e,t,r,n=99999,l=1,a){e.addEventListener("input",()=>{e.value===t?(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=a[0],e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):e.value.length>n?(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=`Поле не должно превышать ${n} символов`,e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):e.value.length<l?(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=`Поле должно состоять минимум из ${l} символов`,e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):(e.parentElement.parentElement.querySelector(".form__error").style.display="none",e.parentElement.classList.remove("form__input-invalid"))})}function validEmail(e,t,r){e.addEventListener("input",()=>{-1===e.value.indexOf("@")?(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=r[1],e.parentElement.classList.add("form__input-invalid"),t.classList.add("disabled")):e.value.match(/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu)?(e.parentElement.parentElement.querySelector(".form__error").style.display="none",e.parentElement.classList.remove("form__input-invalid")):(console.log("ok"),e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=r[1],e.parentElement.classList.add("form__input-invalid"),t.classList.add("disabled"))})}function passValid(e,t,r,n){t.addEventListener("input",()=>{console.log(t.value+" "+e.value),""===t.value?(t.parentElement.parentElement.querySelector(".form__error").style.display="block",t.parentElement.parentElement.querySelector(".form__error").textContent=n[0],t.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):e.value!==t.value||t.value!==e.value?(t.parentElement.parentElement.querySelector(".form__error").style.display="block",t.parentElement.parentElement.querySelector(".form__error").textContent=n[3],t.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):(e.parentElement.parentElement.querySelector(".form__error").style.display="none",e.parentElement.classList.remove("form__input-invalid"),t.parentElement.parentElement.querySelector(".form__error").style.display="none",t.parentElement.classList.remove("form__input-invalid"))}),e.addEventListener("input",()=>{console.log(t.value+" "+e.value),""===e.value?(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=n[0],e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):e.value.match(/(?=.*[a-z])/g)?e.value.match(/^[A-Za-z0-9!@#$%^&*]+$/)?e.value.match(/(?=.*[A-Z])/g)?e.value.match(/(?=.*[0-9])/g)?e.value<min?(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent="Пароль должен содержать не менее 8 символов",e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):t.value!==e.value||e.value!==t.value?(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=n[3],e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):(e.parentElement.parentElement.querySelector(".form__error").style.display="none",e.parentElement.classList.remove("form__input-invalid"),t.parentElement.parentElement.querySelector(".form__error").style.display="none",t.parentElement.classList.remove("form__input-invalid")):(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent="Пароль должен содержать цифры",e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent="Пароль должен содержать минимум одну букву в верхнем регистре",e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent="Пароль должен содержать только латинские буквы и цифры",e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent="Пароль должен содержать минимум одну букву в нижнем регистре",e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled"))})}function validPhone(e,t,r,n=10,l){e.addEventListener("input",()=>{e.value===t?(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=l[0],e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):e.value.length<n?(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=`Поле должно состоять минимум из ${n} символов`,e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):(e.parentElement.parentElement.querySelector(".form__error").style.display="none",e.parentElement.classList.remove("form__input-invalid"))})}function validNum(e,t,r,n=20,l=10,a){e.addEventListener("input",()=>{console.log(e.value.length),e.value===t?(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=a[0],e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):isNaN(e.value)?(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=a[4],e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):e.value.length<l?(console.log("ok"),e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=`Поле должно состоять минимум из ${l} символов`,e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):e.value.length>n?(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=`Поле не должно превышать ${n} символов`,e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):(e.parentElement.parentElement.querySelector(".form__error").style.display="none",e.parentElement.classList.remove("form__input-invalid"))})}function validCheckbox(e,t,r){e.addEventListener("input",()=>{e.checked===t?(e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):e.parentElement.classList.remove("form__input-invalid")})}document.addEventListener("DOMContentLoaded",function(){[].forEach.call(document.querySelectorAll('[name="phone"]'),function(e){var a;function t(e){e.keyCode&&(a=e.keyCode);this.selectionStart<3&&e.preventDefault();var t="+7 (___) ___ ____",r=0,n=(t.replace(/\D/g,""),this.value.replace(/\D/g,"")),l=t.replace(/[_\d]/g,function(e){return r<n.length?n.charAt(r++):e}),t=(-1!=(r=l.indexOf("_"))&&(r<5&&(r=3),l=l.slice(0,r)),t.substr(0,this.value.length).replace(/_+/g,function(e){return"\\d{1,"+e.length+"}"}).replace(/[+()]/g,"\\$&"));(!(t=new RegExp("^"+t+"$")).test(this.value)||this.value.length<5||47<a&&a<58)&&(this.value=l),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",t,!1),e.addEventListener("focus",t,!1),e.addEventListener("blur",t,!1),e.addEventListener("keydown",t,!1)});const t=document.querySelector(".header__burger");var e=document.querySelectorAll(".header__menu-item");const r=document.querySelector(".header__menu"),n=document.querySelector(".cookies-alert");var l=document.querySelector(".cookies-alert__btn");const a=document.querySelector(".popup-load");let s=["Поле не заполнено","ВВЕДИТЕ ВАШ E-MAIL В ПРАВИЛЬНОМ ФОРМАТЕ.","Некорректный ИИН","Пароли должны совпадать","Некорректное значение"];if(document.querySelector(".access__form")){var o=document.querySelector(".access__form"),i=o.querySelectorAll("input");const m=o.querySelector("[name='companyName']"),d=o.querySelector("[name='iin']"),c=o.querySelector("[name='email']"),p=o.querySelector("[name='phone']"),u=o.querySelector("[name='password']"),_=o.querySelector("[name='confirmPassword']"),E=o.querySelector("[name='agreeOfert']"),v=o.querySelector('[name="agreePersonal"]'),y=o.querySelector("[type='submit']");y.classList.add("disabled"),validInput(m,"",y,10,s),validNum(d,"",y,12,10,s),validEmail(c,y,s),validPhone(p,"",y,10,s),passValid(u,_,y,s),validInput(_,"",y,s),validCheckbox(E,!1,y),validCheckbox(v,!1,y),i.forEach(e=>{e.addEventListener("input",()=>{m.parentElement.classList.contains("form__input-invalid")||""===m.value||m.parentElement.classList.contains("form__input-invalid")||""===m.value||c.parentElement.classList.contains("form__input-invalid")||""===c.value||p.parentElement.classList.contains("form__input-invalid")||""===p.value||u.parentElement.classList.contains("form__input-invalid")||""===u.value||_.parentElement.classList.contains("form__input-invalid")||""===_.value||E.parentElement.classList.contains("form__input-invalid")||""===E.value||v.parentElement.classList.contains("form__input-invalid")||""===v.value?y.classList.add("disabled"):y.classList.remove("disabled")})}),o.addEventListener("submit",e=>{m.parentElement.classList.contains("form__input-invalid")&&e.preventDefault(),m.parentElement.classList.contains("form__input-invalid")&&e.preventDefault(),c.parentElement.classList.contains("form__input-invalid")&&e.preventDefault(),p.parentElement.classList.contains("form__input-invalid")&&e.preventDefault(),u.parentElement.classList.contains("form__input-invalid")&&e.preventDefault(),_.parentElement.classList.contains("form__input-invalid")&&e.preventDefault(),E.parentElement.classList.contains("form__input-invalid")&&e.preventDefault(),v.parentElement.classList.contains("form__input-invalid")&&e.preventDefault()}),y.addEventListener("click",()=>{""===m.value&&(m.parentElement.classList.add("form__input-invalid"),m.parentElement.parentElement.querySelector(".form__error").style.display="block",m.parentElement.parentElement.querySelector(".form__error").textContent=s[0]),""===d.value&&(d.parentElement.classList.add("form__input-invalid"),d.parentElement.parentElement.querySelector(".form__error").style.display="block",d.parentElement.parentElement.querySelector(".form__error").textContent=s[0]),-1===c.value.indexOf("@")&&(c.parentElement.classList.add("form__input-invalid"),c.parentElement.parentElement.querySelector(".form__error").style.display="block",c.parentElement.parentElement.querySelector(".form__error").textContent=s[0]),""===p.value&&(p.parentElement.classList.add("form__input-invalid"),p.parentElement.parentElement.querySelector(".form__error").style.display="block",p.parentElement.parentElement.querySelector(".form__error").textContent=s[0]),""===u.value&&(u.parentElement.classList.add("form__input-invalid"),u.parentElement.parentElement.querySelector(".form__error").style.display="block",u.parentElement.parentElement.querySelector(".form__error").textContent=s[0]),""===_.value&&(_.parentElement.classList.add("form__input-invalid"),_.parentElement.parentElement.querySelector(".form__error").style.display="block",_.parentElement.parentElement.querySelector(".form__error").textContent=s[0]),!1===E.checked&&E.parentElement.classList.add("form__input-invalid"),!1===v.checked&&v.parentElement.classList.add("form__input-invalid")})}if(document.querySelector(".questions__form")){i=document.querySelector(".questions__form"),o=i.querySelectorAll("input");const f=i.querySelector("[name='companyName']"),L=i.querySelector("[name='email']"),q=i.querySelector('[name="agreePersonal"]'),S=i.querySelector('[name="message"]'),b=i.querySelector("[type='submit']");validInput(f,"",b,150,s),validEmail(L,b,s),validInput(S,"",b,9999,30,s),validCheckbox(q,!1,b),o.forEach(e=>{e.addEventListener("input",()=>{f.parentElement.classList.contains("form__input-invalid")||L.parentElement.classList.contains("form__input-invalid")||q.parentElement.classList.contains("form__input-invalid")||S.parentElement.classList.contains("form__input-invalid")?b.classList.add("disabled"):b.classList.remove("disabled")})}),b.classList.add("disabled"),b.addEventListener("click",()=>{""===f.value&&(f.parentElement.classList.add("form__input-invalid"),f.parentElement.parentElement.querySelector(".form__error").style.display="block",f.parentElement.parentElement.querySelector(".form__error").textContent=s[0]),""===L.value?(L.parentElement.classList.add("form__input-invalid"),L.parentElement.parentElement.querySelector(".form__error").style.display="block",L.parentElement.parentElement.querySelector(".form__error").textContent=s[0]):-1===L.value.indexOf("@")&&(L.parentElement.classList.add("form__input-invalid"),L.parentElement.parentElement.querySelector(".form__error").style.display="block",L.parentElement.parentElement.querySelector(".form__error").textContent=s[1]),!1===q.checked&&q.parentElement.classList.add("form__input-invalid"),""===S.value&&(S.parentElement.classList.add("form__input-invalid"),S.parentElement.parentElement.querySelector(".form__error").style.display="block",S.parentElement.parentElement.querySelector(".form__error").textContent=s[0]),b.classList.contains("disabled")||a.classList.add("show")}),i.addEventListener("submit",e=>{e.preventDefault()})}if(t.addEventListener("click",()=>{t.classList.toggle("active"),r.classList.toggle("active")}),e.forEach(e=>{e.addEventListener("click",()=>{t.classList.toggle("active"),r.classList.toggle("active")})}),document.cookie.indexOf("cookieOn")<0&&n.classList.add("active"),l.addEventListener("click",()=>{n.classList.remove("active"),document.cookie="cookieOn=true"}),document.querySelector(".recovery")){o=document.querySelector(".recovery");const k=o.querySelector("[type='email']"),h=o.querySelector("[name='agreePersonal']"),x=o.querySelector("[type='submit'");x.classList.add("disabled"),validEmail(k,x,s),validCheckbox(h,x,s),o.querySelectorAll("input").forEach(e=>{e.addEventListener("input",()=>{-1===k.value.indexOf("@")||!1===h.checked?(k.parentElement.classList.add("form__input-invalid"),x.classList.add("disabled")):x.classList.remove("disabled")})}),o.addEventListener("submit",e=>{k.value.indexOf("@")<=0?(k.parentElement.classList.add("form__input-invalid"),k.parentElement.parentElement.querySelector(".form__error").style.display="block",k.parentElement.parentElement.querySelector(".form__error").textContent=s[1],e.preventDefault()):k.parentElement.classList.remove("form__input-invalid"),!1===h.checked?(h.parentElement.classList.add("form__input-invalid"),e.preventDefault()):k.parentElement.classList.remove("form__input-invalid")})}if(document.querySelector(".questions__form")&&document.querySelector(".questions__form-clear").addEventListener("click",()=>{document.querySelector(".questions__form").reset()}),document.querySelector(".login__form")){i=document.querySelector(".login__form"),e=i.querySelectorAll("input[required]");const C=i.querySelector("[name='email']"),g=i.querySelector("[name='password']"),D=i.querySelector("[name='agreePersonal']"),O=i.querySelector("[type='submit']");validEmail(C,O,s),validInput(g,"",O,s),validCheckbox(D,O,s),O.classList.add("disabled"),e.forEach(e=>{e.addEventListener("input",()=>{""===g.value||C.parentElement.classList.contains("form__input-invalid")||!1===D.value?O.classList.add("disabled"):O.classList.remove("disabled")})}),O.addEventListener("click",()=>{""===g.value&&(g.parentElement.classList.add("form__input-invalid"),g.parentElement.parentElement.querySelector(".form__error").style.display="block",g.parentElement.parentElement.querySelector(".form__error").textContent=s[0]),""===C.value?(C.parentElement.classList.add("form__input-invalid"),C.parentElement.parentElement.querySelector(".form__error").style.display="block",C.parentElement.parentElement.querySelector(".form__error").textContent=s[0]):-1===C.value.indexOf("@")&&(C.parentElement.classList.add("form__input-invalid"),C.parentElement.parentElement.querySelector(".form__error").style.display="block",C.parentElement.parentElement.querySelector(".form__error").textContent=s[1]),!1===D.checked&&D.parentElement.classList.add("form__input-invalid"),O.classList.contains("disabled")||a.classList.add("show")}),i.addEventListener("submit",e=>{e.preventDefault()})}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInZhbGlkSW5wdXQiLCJpbnB1dCIsInJlcyIsInNlbGVjdG9yIiwibWF4IiwibWluIiwiZXJyb3JzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInZhbHVlIiwicGFyZW50RWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzdHlsZSIsImRpc3BsYXkiLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsImFkZCIsImxlbmd0aCIsInJlbW92ZSIsInZhbGlkRW1haWwiLCJpbmRleE9mIiwibWF0Y2giLCJjb25zb2xlIiwibG9nIiwicGFzc1ZhbGlkIiwiaW5wdXRDb25mIiwidmFsaWRQaG9uZSIsInZhbGlkTnVtIiwiaXNOYU4iLCJ2YWxpZENoZWNrYm94IiwiY2hlY2tlZCIsImRvY3VtZW50IiwiZm9yRWFjaCIsImNhbGwiLCJxdWVyeVNlbGVjdG9yQWxsIiwia2V5Q29kZSIsIm1hc2siLCJldmVudCIsInRoaXMiLCJzZWxlY3Rpb25TdGFydCIsInByZXZlbnREZWZhdWx0IiwibWF0cml4IiwiaSIsInZhbCIsInJlcGxhY2UiLCJuZXdfdmFsdWUiLCJhIiwiY2hhckF0IiwicmVnIiwic2xpY2UiLCJzdWJzdHIiLCJSZWdFeHAiLCJ0ZXN0IiwidHlwZSIsImJ1cmdlciIsIm1lbnVJdGVtIiwibWVudSIsImNvb2tpZXNBbGVydCIsImNvb2tpZXNBbGVydENsb3NlIiwicG9wTG9hZCIsImxldCIsImFjY2VzRm9ybSIsImlucHV0QWxsIiwiaW5wdXROYW1lIiwiaW5wdXRJaW4iLCJpbnB1dEVtYWlsIiwiaW5wdXRQaG9uZSIsImlucHV0UGFzcyIsImlucHV0Q29uZmlybVBhc3MiLCJpbnB1dE9mZXJ0IiwiaW5wdXRQZXJzb25hbCIsImJ0biIsImVsIiwiY29udGFpbnMiLCJlIiwicUZvcm0iLCJpbnB1dHNBbGwiLCJpbnB1dEVtYWxpIiwiaW5wdXRNZXNzYWdlIiwidG9nZ2xlIiwiY29va2llIiwiZm9ybVJlY292ZXJ5IiwiZm9ybVJlY292ZXJ5RW1haWwiLCJmb3JtUmVjb3ZlcnlBZ3JlZSIsImZvcm1SZWNvdmVyeUJ0biIsInJlc2V0IiwibG9naW4iLCJsb2dpbkFsbCIsImxvZ2luRW1haWwiLCJsb2dpblBhc3MiLCJsb2dpblBlcnNvbmFsIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFBQSxXQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBLE1BQUFDLEVBQUEsRUFBQUMsR0FDQUwsRUFBQU0saUJBQUEsUUFBQSxLQUNBTixFQUFBTyxRQUFBTixHQUNBRCxFQUFBUSxjQUFBQSxjQUFBQyxjQUFBLGNBQUEsRUFBQUMsTUFBQUMsUUFBQSxRQUNBWCxFQUFBUSxjQUFBQSxjQUFBQyxjQUFBLGNBQUEsRUFBQUcsWUFBQVAsRUFBQSxHQUNBTCxFQUFBUSxjQUFBSyxVQUFBQyxJQUFBLHFCQUFBLEVBQ0FaLEVBQUFXLFVBQUFDLElBQUEsVUFBQSxHQUNBZCxFQUFBTyxNQUFBUSxPQUFBWixHQUNBSCxFQUFBUSxjQUFBQSxjQUFBQyxjQUFBLGNBQUEsRUFBQUMsTUFBQUMsUUFBQSxRQUNBWCxFQUFBUSxjQUFBQSxjQUFBQyxjQUFBLGNBQUEsRUFBQUcsd0NBQUFULGFBQ0FILEVBQUFRLGNBQUFLLFVBQUFDLElBQUEscUJBQUEsRUFDQVosRUFBQVcsVUFBQUMsSUFBQSxVQUFBLEdBRUFkLEVBQUFPLE1BQUFRLE9BQUFYLEdBQ0FKLEVBQUFRLGNBQUFBLGNBQUFDLGNBQUEsY0FBQSxFQUFBQyxNQUFBQyxRQUFBLFFBQ0FYLEVBQUFRLGNBQUFBLGNBQUFDLGNBQUEsY0FBQSxFQUFBRywrQ0FBQVIsYUFDQUosRUFBQVEsY0FBQUssVUFBQUMsSUFBQSxxQkFBQSxFQUNBWixFQUFBVyxVQUFBQyxJQUFBLFVBQUEsSUFHQWQsRUFBQVEsY0FBQUEsY0FBQUMsY0FBQSxjQUFBLEVBQUFDLE1BQUFDLFFBQUEsT0FDQVgsRUFBQVEsY0FBQUssVUFBQUcsT0FBQSxxQkFBQSxFQUVBLENBQUEsQ0FDQSxDQUVBLFNBQUFDLFdBQUFqQixFQUFBRSxFQUFBRyxHQUNBTCxF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QUFBaUYsRUFBQS9FLE1BQUFXLFFBQUEsR0FBQSxJQUNBb0UsRUFBQTlFLGNBQUFLLFVBQUFDLElBQUEscUJBQUEsRUFDQXdFLEVBQUE5RSxjQUFBQSxjQUFBQyxjQUFBLGNBQUEsRUFBQUMsTUFBQUMsUUFBQSxRQUNBMkUsRUFBQTlFLGNBQUFBLGNBQUFDLGNBQUEsY0FBQSxFQUFBRyxZQUFBUCxFQUFBLElBSUEsQ0FBQSxJQUFBbUYsRUFBQTVELFNBQ0E0RCxFQUFBaEYsY0FBQUssVUFBQUMsSUFBQSxxQkFBQSxFQUdBdUQsRUFBQXhELFVBQUEwRCxTQUFBLFVBQUEsR0FDQWQsRUFBQTVDLFVBQUFDLElBQUEsTUFBQSxDQUVBLENBQUEsRUFFQXNFLEVBQUE5RSxpQkFBQSxTQUFBLElBQ0FrRSxFQUFBbEMsZUFBQSxDQUNBLENBQUEsQ0FDQSxDQUlBLENBQUEiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gdmFsaWRJbnB1dCAoaW5wdXQsIHJlcywgc2VsZWN0b3IsIG1heCA9IDk5OTk5LCBtaW4gPSAxLCBlcnJvcnMpIHtcclxuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGlucHV0LnZhbHVlID09PSByZXMpIHtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnRleHRDb250ZW50ID0gZXJyb3JzWzBdO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICBzZWxlY3Rvci5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC52YWx1ZS5sZW5ndGggPiBtYXgpIHtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnRleHRDb250ZW50ID0gYNCf0L7Qu9C1INC90LUg0LTQvtC70LbQvdC+INC/0YDQtdCy0YvRiNCw0YLRjCAke21heH0g0YHQuNC80LLQvtC70L7QsmA7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC52YWx1ZS5sZW5ndGggPCBtaW4pIHtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnRleHRDb250ZW50ID0gYNCf0L7Qu9C1INC00L7Qu9C20L3QviDRgdC+0YHRgtC+0Y/RgtGMINC80LjQvdC40LzRg9C8INC40LcgJHttaW59INGB0LjQvNCy0L7Qu9C+0LJgO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICBzZWxlY3Rvci5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gdmFsaWRFbWFpbChpbnB1dCwgc2VsZWN0b3IsIGVycm9ycykge1xyXG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICBpZiAoaW5wdXQudmFsdWUuaW5kZXhPZihcIkBcIikgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS50ZXh0Q29udGVudCA9IGVycm9yc1sxXTtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgc2VsZWN0b3IuY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIWlucHV0LnZhbHVlLm1hdGNoKC9eKChbXjw+KClbXFxdLiw7Olxcc0BcIl0rKFxcLltePD4oKVtcXF0uLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoW148PigpW1xcXS4sOzpcXHNAXCJdK1xcLikrW148PigpW1xcXS4sOzpcXHNAXCJdezIsfSkkL2l1KSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIm9rXCIpO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBlcnJvcnNbMV07XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTsgXHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gcGFzc1ZhbGlkIChpbnB1dCwgaW5wdXRDb25mLCBzZWxlY3RvciwgZXJyb3JzKSB7XHJcbiAgICBpbnB1dENvbmYuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhpbnB1dENvbmYudmFsdWUgKyAnICcgKyBpbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgaWYgKGlucHV0Q29uZi52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgaW5wdXRDb25mLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgICBpbnB1dENvbmYucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBlcnJvcnNbMF07XHJcbiAgICAgICAgICAgIGlucHV0Q29uZi5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICBzZWxlY3Rvci5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC52YWx1ZSAhPT0gaW5wdXRDb25mLnZhbHVlIHx8IGlucHV0Q29uZi52YWx1ZSAhPT0gaW5wdXQudmFsdWUpIHtcclxuICAgICAgICAgICAgaW5wdXRDb25mLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgICBpbnB1dENvbmYucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBlcnJvcnNbM107XHJcbiAgICAgICAgICAgIGlucHV0Q29uZi5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICBzZWxlY3Rvci5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgaW5wdXRDb25mLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XHJcbiAgICAgICAgICAgIGlucHV0Q29uZi5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGlucHV0Q29uZi52YWx1ZSArICcgJyArIGlucHV0LnZhbHVlKTtcclxuICAgICAgICBpZiAoaW5wdXQudmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS50ZXh0Q29udGVudCA9IGVycm9yc1swXTtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgc2VsZWN0b3IuY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIWlucHV0LnZhbHVlLm1hdGNoKC8oPz0uKlthLXpdKS9nKSkge1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBcItCf0LDRgNC+0LvRjCDQtNC+0LvQttC10L0g0YHQvtC00LXRgNC20LDRgtGMINC80LjQvdC40LzRg9C8INC+0LTQvdGDINCx0YPQutCy0YMg0LIg0L3QuNC20L3QtdC8INGA0LXQs9C40YHRgtGA0LVcIjtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgc2VsZWN0b3IuY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKCFpbnB1dC52YWx1ZS5tYXRjaCgvXltBLVphLXowLTkhQCMkJV4mKl0rJC8pKSB7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS50ZXh0Q29udGVudCA9IFwi0J/QsNGA0L7Qu9GMINC00L7Qu9C20LXQvSDRgdC+0LTQtdGA0LbQsNGC0Ywg0YLQvtC70YzQutC+INC70LDRgtC40L3RgdC60LjQtSDQsdGD0LrQstGLINC4INGG0LjRhNGA0YtcIjtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgc2VsZWN0b3IuY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKCFpbnB1dC52YWx1ZS5tYXRjaCgvKD89LipbQS1aXSkvZykpIHtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnRleHRDb250ZW50ID0gXCLQn9Cw0YDQvtC70Ywg0LTQvtC70LbQtdC9INGB0L7QtNC10YDQttCw0YLRjCDQvNC40L3QuNC80YPQvCDQvtC00L3RgyDQsdGD0LrQstGDINCyINCy0LXRgNGF0L3QtdC8INGA0LXQs9C40YHRgtGA0LVcIjtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgc2VsZWN0b3IuY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKCFpbnB1dC52YWx1ZS5tYXRjaCgvKD89LipbMC05XSkvZykpIHtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnRleHRDb250ZW50ID0gXCLQn9Cw0YDQvtC70Ywg0LTQvtC70LbQtdC9INGB0L7QtNC10YDQttCw0YLRjCDRhtC40YTRgNGLXCI7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC52YWx1ZSA8IG1pbikge1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBcItCf0LDRgNC+0LvRjCDQtNC+0LvQttC10L0g0YHQvtC00LXRgNC20LDRgtGMINC90LUg0LzQtdC90LXQtSA4INGB0LjQvNCy0L7Qu9C+0LJcIjtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgc2VsZWN0b3IuY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKGlucHV0Q29uZi52YWx1ZSAhPT0gaW5wdXQudmFsdWUgfHwgaW5wdXQudmFsdWUgIT09IGlucHV0Q29uZi52YWx1ZSkge1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBlcnJvcnNbM107XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICBpbnB1dENvbmYucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcclxuICAgICAgICAgICAgaW5wdXRDb25mLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gdmFsaWRQaG9uZShpbnB1dCwgcmVzLCBzZWxlY3RvciwgbWluID0gMTAsIGVycm9ycykge1xyXG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICBpZiAoaW5wdXQudmFsdWUgPT09IHJlcykge1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBlcnJvcnNbMF07XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnZhbHVlLmxlbmd0aCA8IG1pbikge1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBg0J/QvtC70LUg0LTQvtC70LbQvdC+INGB0L7RgdGC0L7Rj9GC0Ywg0LzQuNC90LjQvNGD0Lwg0LjQtyAke21pbn0g0YHQuNC80LLQvtC70L7QsmA7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiB2YWxpZE51bShpbnB1dCwgcmVzLCBzZWxlY3RvciwgbWF4ID0gMjAsIG1pbiA9IDEwLCBlcnJvcnMpIHtcclxuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coaW5wdXQudmFsdWUubGVuZ3RoKTtcclxuICAgICAgICBpZiAoaW5wdXQudmFsdWUgPT09IHJlcykge1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBlcnJvcnNbMF07XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGlzTmFOKGlucHV0LnZhbHVlKSkge1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBlcnJvcnNbNF07XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnZhbHVlLmxlbmd0aCA8IG1pbikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnb2snKTtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnRleHRDb250ZW50ID0gYNCf0L7Qu9C1INC00L7Qu9C20L3QviDRgdC+0YHRgtC+0Y/RgtGMINC80LjQvdC40LzRg9C8INC40LcgJHttaW59INGB0LjQvNCy0L7Qu9C+0LJgO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICBzZWxlY3Rvci5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudmFsdWUubGVuZ3RoID4gbWF4KSB7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS50ZXh0Q29udGVudCA9IGDQn9C+0LvQtSDQvdC1INC00L7Qu9C20L3QviDQv9GA0LXQstGL0YjQsNGC0YwgJHttYXh9INGB0LjQvNCy0L7Qu9C+0LJgO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICBzZWxlY3Rvci5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHZhbGlkQ2hlY2tib3goaW5wdXQsIHJlcywgc2VsZWN0b3IpIHtcclxuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGlucHV0LmNoZWNrZWQgPT09IHJlcykge1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICBzZWxlY3Rvci5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gcGhvbmUgbWFza1xyXG4gICAgW10uZm9yRWFjaC5jYWxsKCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbbmFtZT1cInBob25lXCJdJyksIGZ1bmN0aW9uKGlucHV0KSB7XHJcbiAgICAgICAgdmFyIGtleUNvZGU7XHJcbiAgICAgICAgZnVuY3Rpb24gbWFzayhldmVudCkge1xyXG4gICAgICAgICAgZXZlbnQua2V5Q29kZSAmJiAoa2V5Q29kZSA9IGV2ZW50LmtleUNvZGUpO1xyXG4gICAgICAgICAgdmFyIHBvcyA9IHRoaXMuc2VsZWN0aW9uU3RhcnQ7XHJcbiAgICAgICAgICBpZiAocG9zIDwgMykgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgIHZhciBtYXRyaXggPSBcIis3IChfX18pIF9fXyBfX19fXCIsXHJcbiAgICAgICAgICAgICAgaSA9IDAsXHJcbiAgICAgICAgICAgICAgZGVmID0gbWF0cml4LnJlcGxhY2UoL1xcRC9nLCBcIlwiKSxcclxuICAgICAgICAgICAgICB2YWwgPSB0aGlzLnZhbHVlLnJlcGxhY2UoL1xcRC9nLCBcIlwiKSxcclxuICAgICAgICAgICAgICBuZXdfdmFsdWUgPSBtYXRyaXgucmVwbGFjZSgvW19cXGRdL2csIGZ1bmN0aW9uKGEpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGkgPCB2YWwubGVuZ3RoID8gdmFsLmNoYXJBdChpKyspIDogYVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgaSA9IG5ld192YWx1ZS5pbmRleE9mKFwiX1wiKTtcclxuICAgICAgICAgIGlmIChpICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgaSA8IDUgJiYgKGkgPSAzKTtcclxuICAgICAgICAgICAgICBuZXdfdmFsdWUgPSBuZXdfdmFsdWUuc2xpY2UoMCwgaSlcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHZhciByZWcgPSBtYXRyaXguc3Vic3RyKDAsIHRoaXMudmFsdWUubGVuZ3RoKS5yZXBsYWNlKC9fKy9nLFxyXG4gICAgICAgICAgICAgIGZ1bmN0aW9uKGEpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXFxcXGR7MSxcIiArIGEubGVuZ3RoICsgXCJ9XCJcclxuICAgICAgICAgICAgICB9KS5yZXBsYWNlKC9bKygpXS9nLCBcIlxcXFwkJlwiKTtcclxuICAgICAgICAgIHJlZyA9IG5ldyBSZWdFeHAoXCJeXCIgKyByZWcgKyBcIiRcIik7XHJcbiAgICAgICAgICBpZiAoIXJlZy50ZXN0KHRoaXMudmFsdWUpIHx8IHRoaXMudmFsdWUubGVuZ3RoIDwgNSB8fCBrZXlDb2RlID4gNDcgJiYga2V5Q29kZSA8IDU4KSB7XHJcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBuZXdfdmFsdWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PSBcImJsdXJcIiAmJiB0aGlzLnZhbHVlLmxlbmd0aCA8IDUpIHtcclxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIG1hc2ssIGZhbHNlKTtcclxuICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgbWFzaywgZmFsc2UpO1xyXG4gICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsIG1hc2ssIGZhbHNlKTtcclxuICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBtYXNrLCBmYWxzZSk7XHJcbiAgICBcclxuICAgICAgfSk7XHJcblxyXG4gICAgY29uc3QgYnVyZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX2J1cmdlclwiKTtcclxuICAgIGNvbnN0IG1lbnVJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5oZWFkZXJfX21lbnUtaXRlbVwiKTtcclxuICAgIGNvbnN0IG1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9fbWVudVwiKTtcclxuICAgIGNvbnN0IGNvb2tpZXNBbGVydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29va2llcy1hbGVydFwiKTtcclxuICAgIGNvbnN0IGNvb2tpZXNBbGVydENsb3NlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb29raWVzLWFsZXJ0X19idG5cIik7XHJcbiAgICBjb25zdCBwb3BMb2FkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1sb2FkXCIpO1xyXG4gICAgbGV0IGVycm9ycyA9IFsn0J/QvtC70LUg0L3QtSDQt9Cw0L/QvtC70L3QtdC90L4nLCBcItCS0JLQldCU0JjQotCVINCS0JDQqCBFLU1BSUwg0JIg0J/QoNCQ0JLQmNCb0KzQndCe0Jwg0KTQntCg0JzQkNCi0JUuXCIsIFwi0J3QtdC60L7RgNGA0LXQutGC0L3Ri9C5INCY0JjQnVwiLCBcItCf0LDRgNC+0LvQuCDQtNC+0LvQttC90Ysg0YHQvtCy0L/QsNC00LDRgtGMXCIsIFwi0J3QtdC60L7RgNGA0LXQutGC0L3QvtC1INC30L3QsNGH0LXQvdC40LVcIl07XHJcblxyXG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWNjZXNzX19mb3JtXCIpKSB7XHJcbiAgICAgICAgY29uc3QgYWNjZXNGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hY2Nlc3NfX2Zvcm1cIik7XHJcbiAgICAgICAgY29uc3QgaW5wdXRBbGwgPSBhY2Nlc0Zvcm0ucXVlcnlTZWxlY3RvckFsbChcImlucHV0XCIpXHJcbiAgICAgICAgY29uc3QgaW5wdXROYW1lID0gYWNjZXNGb3JtLnF1ZXJ5U2VsZWN0b3IoXCJbbmFtZT0nY29tcGFueU5hbWUnXVwiKTtcclxuICAgICAgICBjb25zdCBpbnB1dElpbiA9IGFjY2VzRm9ybS5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J2lpbiddXCIpO1xyXG4gICAgICAgIGNvbnN0IGlucHV0RW1haWwgPSBhY2Nlc0Zvcm0ucXVlcnlTZWxlY3RvcihcIltuYW1lPSdlbWFpbCddXCIpO1xyXG4gICAgICAgIGNvbnN0IGlucHV0UGhvbmUgPSBhY2Nlc0Zvcm0ucXVlcnlTZWxlY3RvcihcIltuYW1lPSdwaG9uZSddXCIpO1xyXG4gICAgICAgIGNvbnN0IGlucHV0UGFzcyA9IGFjY2VzRm9ybS5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J3Bhc3N3b3JkJ11cIik7XHJcbiAgICAgICAgY29uc3QgaW5wdXRDb25maXJtUGFzcyA9IGFjY2VzRm9ybS5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J2NvbmZpcm1QYXNzd29yZCddXCIpO1xyXG4gICAgICAgIGNvbnN0IGlucHV0T2ZlcnQgPSBhY2Nlc0Zvcm0ucXVlcnlTZWxlY3RvcihcIltuYW1lPSdhZ3JlZU9mZXJ0J11cIik7XHJcbiAgICAgICAgY29uc3QgaW5wdXRQZXJzb25hbCA9IGFjY2VzRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImFncmVlUGVyc29uYWxcIl0nKTtcclxuICAgICAgICBjb25zdCBidG4gPSBhY2Nlc0Zvcm0ucXVlcnlTZWxlY3RvcihcIlt0eXBlPSdzdWJtaXQnXVwiKTtcclxuXHJcbiAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuXHJcbiAgICAgICAgdmFsaWRJbnB1dChpbnB1dE5hbWUsICcnLCBidG4sIDEwLCBlcnJvcnMpO1xyXG4gICAgICAgIHZhbGlkTnVtKGlucHV0SWluLCAnJywgYnRuLCAxMiwgMTAsIGVycm9ycyk7XHJcbiAgICAgICAgdmFsaWRFbWFpbChpbnB1dEVtYWlsLCBidG4sIGVycm9ycyk7XHJcbiAgICAgICAgdmFsaWRQaG9uZShpbnB1dFBob25lLCAnJywgYnRuLCAxMCwgZXJyb3JzKTtcclxuICAgICAgICBwYXNzVmFsaWQoaW5wdXRQYXNzLCBpbnB1dENvbmZpcm1QYXNzLCBidG4sIGVycm9ycyk7XHJcbiAgICAgICAgdmFsaWRJbnB1dChpbnB1dENvbmZpcm1QYXNzLCAnJywgYnRuLCBlcnJvcnMpO1xyXG4gICAgICAgIHZhbGlkQ2hlY2tib3goaW5wdXRPZmVydCwgZmFsc2UsIGJ0bik7XHJcbiAgICAgICAgdmFsaWRDaGVja2JveChpbnB1dFBlcnNvbmFsLCBmYWxzZSwgYnRuKTtcclxuXHJcbiAgICAgICAgaW5wdXRBbGwuZm9yRWFjaChlbCA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dE5hbWUucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpIHx8IGlucHV0TmFtZS52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0TmFtZS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImZvcm1fX2lucHV0LWludmFsaWRcIikgfHwgaW5wdXROYW1lLnZhbHVlID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXRFbWFpbC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImZvcm1fX2lucHV0LWludmFsaWRcIikgfHwgaW5wdXRFbWFpbC52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0UGhvbmUucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpIHx8IGlucHV0UGhvbmUudmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dFBhc3MucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpIHx8IGlucHV0UGFzcy52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0Q29uZmlybVBhc3MucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpIHx8IGlucHV0Q29uZmlybVBhc3MudmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dE9mZXJ0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKSB8fCBpbnB1dE9mZXJ0LnZhbHVlID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXRQZXJzb25hbC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImZvcm1fX2lucHV0LWludmFsaWRcIikgfHwgaW5wdXRQZXJzb25hbC52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZShcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBhY2Nlc0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaW5wdXROYW1lLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbnB1dE5hbWUucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlucHV0RW1haWwucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlucHV0UGhvbmUucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlucHV0UGFzcy5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImZvcm1fX2lucHV0LWludmFsaWRcIikpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5wdXRDb25maXJtUGFzcy5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImZvcm1fX2lucHV0LWludmFsaWRcIikpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5wdXRPZmVydC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImZvcm1fX2lucHV0LWludmFsaWRcIikpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5wdXRQZXJzb25hbC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImZvcm1fX2lucHV0LWludmFsaWRcIikpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaW5wdXROYW1lLnZhbHVlID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgaW5wdXROYW1lLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgICAgICBpbnB1dE5hbWUucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XHJcbiAgICAgICAgICAgICAgICBpbnB1dE5hbWUucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBlcnJvcnNbMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlucHV0SWluLnZhbHVlID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgaW5wdXRJaW4ucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgICAgIGlucHV0SWluLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgICAgICAgaW5wdXRJaW4ucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBlcnJvcnNbMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlucHV0RW1haWwudmFsdWUuaW5kZXhPZihcIkBcIikgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dEVtYWlsLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgICAgICBpbnB1dEVtYWlsLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgICAgICAgaW5wdXRFbWFpbC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS50ZXh0Q29udGVudCA9IGVycm9yc1swXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5wdXRQaG9uZS52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0UGhvbmUucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgICAgIGlucHV0UGhvbmUucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XHJcbiAgICAgICAgICAgICAgICBpbnB1dFBob25lLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnRleHRDb250ZW50ID0gZXJyb3JzWzBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbnB1dFBhc3MudmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dFBhc3MucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgICAgIGlucHV0UGFzcy5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcclxuICAgICAgICAgICAgICAgIGlucHV0UGFzcy5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS50ZXh0Q29udGVudCA9IGVycm9yc1swXTtcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgaWYgKGlucHV0Q29uZmlybVBhc3MudmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dENvbmZpcm1QYXNzLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgICAgICBpbnB1dENvbmZpcm1QYXNzLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgICAgICAgaW5wdXRDb25maXJtUGFzcy5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS50ZXh0Q29udGVudCA9IGVycm9yc1swXTtcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgaWYgKGlucHV0T2ZlcnQuY2hlY2tlZCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0T2ZlcnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5wdXRQZXJzb25hbC5jaGVja2VkID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgaW5wdXRQZXJzb25hbC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5xdWVzdGlvbnNfX2Zvcm1cIikpIHtcclxuICAgICAgICBjb25zdCBxRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucXVlc3Rpb25zX19mb3JtXCIpO1xyXG4gICAgICAgIGNvbnN0IGlucHV0c0FsbCA9IHFGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFwiKTtcclxuICAgICAgICBjb25zdCBpbnB1dE5hbWUgPSBxRm9ybS5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J2NvbXBhbnlOYW1lJ11cIik7XHJcbiAgICAgICAgY29uc3QgaW5wdXRFbWFsaSA9IHFGb3JtLnF1ZXJ5U2VsZWN0b3IoXCJbbmFtZT0nZW1haWwnXVwiKTtcclxuICAgICAgICBjb25zdCBpbnB1dFBlcnNvbmFsID0gcUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJhZ3JlZVBlcnNvbmFsXCJdJyk7XHJcbiAgICAgICAgY29uc3QgaW5wdXRNZXNzYWdlID0gcUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJtZXNzYWdlXCJdJyk7XHJcbiAgICAgICAgY29uc3QgYnRuID0gcUZvcm0ucXVlcnlTZWxlY3RvcihcIlt0eXBlPSdzdWJtaXQnXVwiKTtcclxuXHJcbiAgICAgICAgdmFsaWRJbnB1dChpbnB1dE5hbWUsICcnLCBidG4sIDE1MCwgZXJyb3JzKTtcclxuICAgICAgICB2YWxpZEVtYWlsKGlucHV0RW1hbGksIGJ0biwgZXJyb3JzKTtcclxuICAgICAgICB2YWxpZElucHV0KGlucHV0TWVzc2FnZSwgJycsIGJ0biwgOTk5OSwgMzAsIGVycm9ycyk7XHJcbiAgICAgICAgdmFsaWRDaGVja2JveChpbnB1dFBlcnNvbmFsLCBmYWxzZSwgYnRuKTtcclxuXHJcbiAgICAgICAgaW5wdXRzQWxsLmZvckVhY2goZWwgPT4ge1xyXG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlucHV0TmFtZS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImZvcm1fX2lucHV0LWludmFsaWRcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dEVtYWxpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0UGVyc29uYWwucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXRNZXNzYWdlLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuXHJcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpbnB1dE5hbWUudmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dE5hbWUucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgICAgIGlucHV0TmFtZS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcclxuICAgICAgICAgICAgICAgIGlucHV0TmFtZS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS50ZXh0Q29udGVudCA9IGVycm9yc1swXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5wdXRFbWFsaS52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0RW1hbGkucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgICAgIGlucHV0RW1hbGkucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XHJcbiAgICAgICAgICAgICAgICBpbnB1dEVtYWxpLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnRleHRDb250ZW50ID0gZXJyb3JzWzBdO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0RW1hbGkudmFsdWUuaW5kZXhPZihcIkBcIikgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dEVtYWxpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgICAgICBpbnB1dEVtYWxpLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgICAgICAgaW5wdXRFbWFsaS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS50ZXh0Q29udGVudCA9IGVycm9yc1sxXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5wdXRQZXJzb25hbC5jaGVja2VkID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgaW5wdXRQZXJzb25hbC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbnB1dE1lc3NhZ2UudmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dE1lc3NhZ2UucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgICAgIGlucHV0TWVzc2FnZS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcclxuICAgICAgICAgICAgICAgIGlucHV0TWVzc2FnZS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS50ZXh0Q29udGVudCA9IGVycm9yc1swXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFidG4uY2xhc3NMaXN0LmNvbnRhaW5zKFwiZGlzYWJsZWRcIikpIHtcclxuICAgICAgICAgICAgICAgIHBvcExvYWQuY2xhc3NMaXN0LmFkZChcInNob3dcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcblxyXG4gICAgYnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgYnVyZ2VyLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgbWVudS5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbWVudUl0ZW0uZm9yRWFjaChlbCA9PiB7XHJcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgYnVyZ2VyLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgIG1lbnUuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxuXHJcbiAgICBpZiAoZG9jdW1lbnQuY29va2llLmluZGV4T2YoXCJjb29raWVPblwiKSA8IDApIHtcclxuICAgICAgICBjb29raWVzQWxlcnQuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBjb29raWVzQWxlcnRDbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIGNvb2tpZXNBbGVydC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IFwiY29va2llT249dHJ1ZVwiO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVjb3ZlcnlcIikpIHtcclxuICAgICAgICBjb25zdCBmb3JtUmVjb3ZlcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlY292ZXJ5XCIpO1xyXG4gICAgICAgIGNvbnN0IGZvcm1SZWNvdmVyeUVtYWlsID0gZm9ybVJlY292ZXJ5LnF1ZXJ5U2VsZWN0b3IoXCJbdHlwZT0nZW1haWwnXVwiKTtcclxuICAgICAgICBjb25zdCBmb3JtUmVjb3ZlcnlBZ3JlZSA9IGZvcm1SZWNvdmVyeS5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J2FncmVlUGVyc29uYWwnXVwiKTtcclxuICAgICAgICBjb25zdCBmb3JtUmVjb3ZlcnlCdG4gPSBmb3JtUmVjb3ZlcnkucXVlcnlTZWxlY3RvcihcIlt0eXBlPSdzdWJtaXQnXCIpO1xyXG5cclxuICAgICAgICBmb3JtUmVjb3ZlcnlCdG4uY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG5cclxuXHJcbiAgICAgICAgdmFsaWRFbWFpbChmb3JtUmVjb3ZlcnlFbWFpbCwgZm9ybVJlY292ZXJ5QnRuLCBlcnJvcnMpO1xyXG4gICAgICAgIHZhbGlkQ2hlY2tib3goZm9ybVJlY292ZXJ5QWdyZWUsIGZvcm1SZWNvdmVyeUJ0biwgZXJyb3JzKTtcclxuXHJcbiAgICAgICAgZm9ybVJlY292ZXJ5LnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFwiKS5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChmb3JtUmVjb3ZlcnlFbWFpbC52YWx1ZS5pbmRleE9mKFwiQFwiKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3JtUmVjb3ZlcnlFbWFpbC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1SZWNvdmVyeUJ0bi5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoZm9ybVJlY292ZXJ5QWdyZWUuY2hlY2tlZCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3JtUmVjb3ZlcnlFbWFpbC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1SZWNvdmVyeUJ0bi5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1SZWNvdmVyeUJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgICBmb3JtUmVjb3ZlcnkuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZm9ybVJlY292ZXJ5RW1haWwudmFsdWUuaW5kZXhPZihcIkBcIikgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgZm9ybVJlY292ZXJ5RW1haWwucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgICAgIGZvcm1SZWNvdmVyeUVtYWlsLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgICAgICAgZm9ybVJlY292ZXJ5RW1haWwucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBlcnJvcnNbMV07XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3JtUmVjb3ZlcnlFbWFpbC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChmb3JtUmVjb3ZlcnlBZ3JlZS5jaGVja2VkID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgZm9ybVJlY292ZXJ5QWdyZWUucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvcm1SZWNvdmVyeUVtYWlsLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5xdWVzdGlvbnNfX2Zvcm1cIikpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnF1ZXN0aW9uc19fZm9ybS1jbGVhclwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnF1ZXN0aW9uc19fZm9ybVwiKS5yZXNldCgpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9naW5fX2Zvcm1cIikpIHtcclxuICAgICAgICBjb25zdCBsb2dpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9naW5fX2Zvcm1cIik7XHJcbiAgICAgICAgY29uc3QgbG9naW5BbGwgPSBsb2dpbi5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRbcmVxdWlyZWRdXCIpO1xyXG4gICAgICAgIGNvbnN0IGxvZ2luRW1haWwgPSBsb2dpbi5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J2VtYWlsJ11cIik7XHJcbiAgICAgICAgY29uc3QgbG9naW5QYXNzID0gbG9naW4ucXVlcnlTZWxlY3RvcihcIltuYW1lPSdwYXNzd29yZCddXCIpO1xyXG4gICAgICAgIGNvbnN0IGxvZ2luUGVyc29uYWwgPSBsb2dpbi5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J2FncmVlUGVyc29uYWwnXVwiKTtcclxuICAgICAgICBjb25zdCBidG4gPSBsb2dpbi5xdWVyeVNlbGVjdG9yKFwiW3R5cGU9J3N1Ym1pdCddXCIpO1xyXG5cclxuICAgICAgICB2YWxpZEVtYWlsKGxvZ2luRW1haWwsIGJ0biwgZXJyb3JzKTtcclxuICAgICAgICB2YWxpZElucHV0KGxvZ2luUGFzcywgJycsIGJ0biwgZXJyb3JzKTtcclxuICAgICAgICB2YWxpZENoZWNrYm94KGxvZ2luUGVyc29uYWwsIGJ0biwgZXJyb3JzKTtcclxuXHJcbiAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuXHJcbiAgICAgICAgbG9naW5BbGwuZm9yRWFjaChlbCA9PiB7XHJcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAobG9naW5QYXNzLnZhbHVlID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvZ2luRW1haWwucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9naW5QZXJzb25hbC52YWx1ZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZShcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAobG9naW5QYXNzLnZhbHVlID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgbG9naW5QYXNzLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgICAgICBsb2dpblBhc3MucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XHJcbiAgICAgICAgICAgICAgICBsb2dpblBhc3MucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBlcnJvcnNbMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGxvZ2luRW1haWwudmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBsb2dpbkVtYWlsLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgICAgICBsb2dpbkVtYWlsLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgICAgICAgbG9naW5FbWFpbC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS50ZXh0Q29udGVudCA9IGVycm9yc1swXTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChsb2dpbkVtYWlsLnZhbHVlLmluZGV4T2YoXCJAXCIpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgbG9naW5FbWFpbC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICAgICAgbG9naW5FbWFpbC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcclxuICAgICAgICAgICAgICAgIGxvZ2luRW1haWwucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBlcnJvcnNbMV07XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGxvZ2luUGVyc29uYWwuY2hlY2tlZCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGxvZ2luUGVyc29uYWwucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFidG4uY2xhc3NMaXN0LmNvbnRhaW5zKFwiZGlzYWJsZWRcIikpIHtcclxuICAgICAgICAgICAgICAgIHBvcExvYWQuY2xhc3NMaXN0LmFkZChcInNob3dcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsb2dpbi5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSk9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuXHJcblxyXG59KTsiXX0=
