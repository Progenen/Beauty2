function validInput(e,t,r,n=99999,l=1,a){e.addEventListener("input",()=>{e.value===t?(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=a[0],e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):e.value.length>n?(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=`Поле не должно превышать ${n} символов`,e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):e.value.length<l?(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=`Поле должно состоять минимум из ${l} символов`,e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):(e.parentElement.parentElement.querySelector(".form__error").style.display="none",e.parentElement.classList.remove("form__input-invalid"))})}function validEmail(e,t,r){e.addEventListener("input",()=>{-1===e.value.indexOf("@")?(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=r[1],e.parentElement.classList.add("form__input-invalid"),t.classList.add("disabled")):e.value.match(/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu)?(e.parentElement.parentElement.querySelector(".form__error").style.display="none",e.parentElement.classList.remove("form__input-invalid")):(console.log("ok"),e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=r[1],e.parentElement.classList.add("form__input-invalid"),t.classList.add("disabled"))})}function passValid(e,t,r,n){t.addEventListener("input",()=>{console.log(t.value+" "+e.value),""===t.value?(t.parentElement.parentElement.querySelector(".form__error").style.display="block",t.parentElement.parentElement.querySelector(".form__error").textContent=n[0],t.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):e.value!==t.value||t.value!==e.value?(t.parentElement.parentElement.querySelector(".form__error").style.display="block",t.parentElement.parentElement.querySelector(".form__error").textContent=n[3],t.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):(e.parentElement.parentElement.querySelector(".form__error").style.display="none",e.parentElement.classList.remove("form__input-invalid"),t.parentElement.parentElement.querySelector(".form__error").style.display="none",t.parentElement.classList.remove("form__input-invalid"))}),e.addEventListener("input",()=>{console.log(t.value+" "+e.value),""===e.value?(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=n[0],e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):e.value.match(/(?=.*[a-z])/g)?e.value.match(/^[A-Za-z0-9!@#$%^&*]+$/)?e.value.match(/(?=.*[A-Z])/g)?e.value.match(/(?=.*[0-9])/g)?e.value<min?(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent="Пароль должен содержать не менее 8 символов",e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):t.value!==e.value||e.value!==t.value?(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=n[3],e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):(e.parentElement.parentElement.querySelector(".form__error").style.display="none",e.parentElement.classList.remove("form__input-invalid"),t.parentElement.parentElement.querySelector(".form__error").style.display="none",t.parentElement.classList.remove("form__input-invalid")):(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent="Пароль должен содержать цифры",e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent="Пароль должен содержать минимум одну букву в верхнем регистре",e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent="Пароль должен содержать только латинские буквы и цифры",e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent="Пароль должен содержать минимум одну букву в нижнем регистре",e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled"))})}function validPhone(e,t,r,n=10,l){e.addEventListener("input",()=>{e.value===t?(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=l[0],e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):e.value.length<n?(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=`Поле должно состоять минимум из ${n} символов`,e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):(e.parentElement.parentElement.querySelector(".form__error").style.display="none",e.parentElement.classList.remove("form__input-invalid"))})}function validNum(e,t,r,n=20,l=10,a){e.addEventListener("input",()=>{console.log(e.value.length),e.value===t?(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=a[0],e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):isNaN(e.value)?(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=a[4],e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):e.value.length<l?(console.log("ok"),e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=`Поле должно состоять минимум из ${l} символов`,e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):e.value.length>n?(e.parentElement.parentElement.querySelector(".form__error").style.display="block",e.parentElement.parentElement.querySelector(".form__error").textContent=`Поле не должно превышать ${n} символов`,e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):(e.parentElement.parentElement.querySelector(".form__error").style.display="none",e.parentElement.classList.remove("form__input-invalid"))})}function validCheckbox(e,t,r){e.addEventListener("input",()=>{e.checked===t?(e.parentElement.classList.add("form__input-invalid"),r.classList.add("disabled")):e.parentElement.classList.remove("form__input-invalid")})}document.addEventListener("DOMContentLoaded",function(){[].forEach.call(document.querySelectorAll('[name="phone"]'),function(e){var a;function t(e){e.keyCode&&(a=e.keyCode);this.selectionStart<3&&e.preventDefault();var t="+7 (___) ___ ____",r=0,n=(t.replace(/\D/g,""),this.value.replace(/\D/g,"")),l=t.replace(/[_\d]/g,function(e){return r<n.length?n.charAt(r++):e}),t=(-1!=(r=l.indexOf("_"))&&(r<5&&(r=3),l=l.slice(0,r)),t.substr(0,this.value.length).replace(/_+/g,function(e){return"\\d{1,"+e.length+"}"}).replace(/[+()]/g,"\\$&"));(!(t=new RegExp("^"+t+"$")).test(this.value)||this.value.length<5||47<a&&a<58)&&(this.value=l),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",t,!1),e.addEventListener("focus",t,!1),e.addEventListener("blur",t,!1),e.addEventListener("keydown",t,!1)});const t=document.querySelector(".header__burger");var e=document.querySelectorAll(".header__menu-item");const r=document.querySelector(".header__menu"),n=document.querySelector(".cookies-alert");var l=document.querySelector(".cookies-alert__btn");const a=document.querySelector(".popup-load");let s=["Поле не заполнено","ВВЕДИТЕ ВАШ E-MAIL В ПРАВИЛЬНОМ ФОРМАТЕ.","Некорректный ИИН","Пароли должны совпадать","Некорректное значение"];if(document.querySelector(".access__form")){var o=document.querySelector(".access__form"),i=o.querySelectorAll("input");const m=o.querySelector("[name='companyName']"),d=o.querySelector("[name='iin']"),c=o.querySelector("[name='email']"),p=o.querySelector("[name='phone']"),u=o.querySelector("[name='password']"),_=o.querySelector("[name='confirmPassword']"),E=o.querySelector("[name='agreeOfert']"),v=o.querySelector('[name="agreePersonal"]'),y=o.querySelector("[type='submit']");y.classList.add("disabled"),validInput(m,"",y,10,s),validNum(d,"",y,12,10,s),validEmail(c,y,s),validPhone(p,"",y,10,s),passValid(u,_,y,s),validInput(_,"",y,s),validCheckbox(E,!1,y),validCheckbox(v,!1,y),i.forEach(e=>{e.addEventListener("input",()=>{m.parentElement.classList.contains("form__input-invalid")||""===m.value||m.parentElement.classList.contains("form__input-invalid")||""===m.value||c.parentElement.classList.contains("form__input-invalid")||""===c.value||p.parentElement.classList.contains("form__input-invalid")||""===p.value||u.parentElement.classList.contains("form__input-invalid")||""===u.value||_.parentElement.classList.contains("form__input-invalid")||""===_.value||E.parentElement.classList.contains("form__input-invalid")||""===E.value||v.parentElement.classList.contains("form__input-invalid")||""===v.value?y.classList.add("disabled"):y.classList.remove("disabled")})}),o.addEventListener("submit",e=>{m.parentElement.classList.contains("form__input-invalid")&&e.preventDefault(),m.parentElement.classList.contains("form__input-invalid")&&e.preventDefault(),c.parentElement.classList.contains("form__input-invalid")&&e.preventDefault(),p.parentElement.classList.contains("form__input-invalid")&&e.preventDefault(),u.parentElement.classList.contains("form__input-invalid")&&e.preventDefault(),_.parentElement.classList.contains("form__input-invalid")&&e.preventDefault(),E.parentElement.classList.contains("form__input-invalid")&&e.preventDefault(),v.parentElement.classList.contains("form__input-invalid")&&e.preventDefault()}),y.addEventListener("click",()=>{""===m.value&&(m.parentElement.classList.add("form__input-invalid"),m.parentElement.parentElement.querySelector(".form__error").style.display="block",m.parentElement.parentElement.querySelector(".form__error").textContent=s[0]),""===d.value&&(d.parentElement.classList.add("form__input-invalid"),d.parentElement.parentElement.querySelector(".form__error").style.display="block",d.parentElement.parentElement.querySelector(".form__error").textContent=s[0]),-1===c.value.indexOf("@")&&(c.parentElement.classList.add("form__input-invalid"),c.parentElement.parentElement.querySelector(".form__error").style.display="block",c.parentElement.parentElement.querySelector(".form__error").textContent=s[0]),""===p.value&&(p.parentElement.classList.add("form__input-invalid"),p.parentElement.parentElement.querySelector(".form__error").style.display="block",p.parentElement.parentElement.querySelector(".form__error").textContent=s[0]),""===u.value&&(u.parentElement.classList.add("form__input-invalid"),u.parentElement.parentElement.querySelector(".form__error").style.display="block",u.parentElement.parentElement.querySelector(".form__error").textContent=s[0]),""===_.value&&(_.parentElement.classList.add("form__input-invalid"),_.parentElement.parentElement.querySelector(".form__error").style.display="block",_.parentElement.parentElement.querySelector(".form__error").textContent=s[0]),!1===E.checked&&E.parentElement.classList.add("form__input-invalid"),!1===v.checked&&v.parentElement.classList.add("form__input-invalid")})}if(document.querySelector(".questions__form")){i=document.querySelector(".questions__form"),o=i.querySelectorAll("input");const f=i.querySelector("[name='companyName']"),L=i.querySelector("[name='email']"),q=i.querySelector('[name="agreePersonal"]'),S=i.querySelector('[name="message"]'),b=i.querySelector("[type='submit']");validInput(f,"",b,150,s),validEmail(L,b,s),validInput(S,"",b,9999,30,s),validCheckbox(q,!1,b),o.forEach(e=>{e.addEventListener("input",()=>{f.parentElement.classList.contains("form__input-invalid")||L.parentElement.classList.contains("form__input-invalid")||q.parentElement.classList.contains("form__input-invalid")||S.parentElement.classList.contains("form__input-invalid")?b.classList.add("disabled"):b.classList.remove("disabled")})}),b.classList.add("disabled"),b.addEventListener("click",()=>{""===f.value&&(f.parentElement.classList.add("form__input-invalid"),f.parentElement.parentElement.querySelector(".form__error").style.display="block",f.parentElement.parentElement.querySelector(".form__error").textContent=s[0]),""===L.value?(L.parentElement.classList.add("form__input-invalid"),L.parentElement.parentElement.querySelector(".form__error").style.display="block",L.parentElement.parentElement.querySelector(".form__error").textContent=s[0]):-1===L.value.indexOf("@")&&(L.parentElement.classList.add("form__input-invalid"),L.parentElement.parentElement.querySelector(".form__error").style.display="block",L.parentElement.parentElement.querySelector(".form__error").textContent=s[1]),!1===q.checked&&q.parentElement.classList.add("form__input-invalid"),""===S.value&&(S.parentElement.classList.add("form__input-invalid"),S.parentElement.parentElement.querySelector(".form__error").style.display="block",S.parentElement.parentElement.querySelector(".form__error").textContent=s[0]),b.classList.contains("disabled")||(a.classList.add("show"),document.body.classList.add("lock"))}),i.addEventListener("submit",e=>{e.preventDefault()})}if(t.addEventListener("click",()=>{t.classList.toggle("active"),r.classList.toggle("active")}),e.forEach(e=>{e.addEventListener("click",()=>{t.classList.toggle("active"),r.classList.toggle("active")})}),document.cookie.indexOf("cookieOn")<0&&n.classList.add("active"),l.addEventListener("click",()=>{n.classList.remove("active"),document.cookie="cookieOn=true"}),document.querySelector(".recovery")){o=document.querySelector(".recovery");const k=o.querySelector("[type='email']"),h=o.querySelector("[name='agreePersonal']"),x=o.querySelector("[type='submit'");x.classList.add("disabled"),validEmail(k,x,s),validCheckbox(h,x,s),o.querySelectorAll("input").forEach(e=>{e.addEventListener("input",()=>{-1===k.value.indexOf("@")||!1===h.checked?(k.parentElement.classList.add("form__input-invalid"),x.classList.add("disabled")):x.classList.remove("disabled")})}),o.addEventListener("submit",e=>{k.value.indexOf("@")<=0?(k.parentElement.classList.add("form__input-invalid"),k.parentElement.parentElement.querySelector(".form__error").style.display="block",k.parentElement.parentElement.querySelector(".form__error").textContent=s[1],e.preventDefault()):k.parentElement.classList.remove("form__input-invalid"),!1===h.checked?(h.parentElement.classList.add("form__input-invalid"),e.preventDefault()):k.parentElement.classList.remove("form__input-invalid")})}if(document.querySelector(".questions__form")&&document.querySelector(".questions__form-clear").addEventListener("click",()=>{document.querySelector(".questions__form").reset()}),document.querySelector(".login__form")){i=document.querySelector(".login__form"),e=i.querySelectorAll("input[required]");const C=i.querySelector("[name='email']"),g=i.querySelector("[name='password']"),D=i.querySelector("[name='agreePersonal']"),O=i.querySelector("[type='submit']");validEmail(C,O,s),validInput(g,"",O,s),validCheckbox(D,O,s),O.classList.add("disabled"),e.forEach(e=>{e.addEventListener("input",()=>{""===g.value||C.parentElement.classList.contains("form__input-invalid")||!1===D.value?O.classList.add("disabled"):O.classList.remove("disabled")})}),O.addEventListener("click",()=>{""===g.value&&(g.parentElement.classList.add("form__input-invalid"),g.parentElement.parentElement.querySelector(".form__error").style.display="block",g.parentElement.parentElement.querySelector(".form__error").textContent=s[0]),""===C.value?(C.parentElement.classList.add("form__input-invalid"),C.parentElement.parentElement.querySelector(".form__error").style.display="block",C.parentElement.parentElement.querySelector(".form__error").textContent=s[0]):-1===C.value.indexOf("@")&&(C.parentElement.classList.add("form__input-invalid"),C.parentElement.parentElement.querySelector(".form__error").style.display="block",C.parentElement.parentElement.querySelector(".form__error").textContent=s[1]),!1===D.checked&&D.parentElement.classList.add("form__input-invalid"),O.classList.contains("disabled")||(a.classList.add("show"),document.body.classList.add("lock"))}),i.addEventListener("submit",e=>{e.preventDefault()})}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInZhbGlkSW5wdXQiLCJpbnB1dCIsInJlcyIsInNlbGVjdG9yIiwibWF4IiwibWluIiwiZXJyb3JzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInZhbHVlIiwicGFyZW50RWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzdHlsZSIsImRpc3BsYXkiLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsImFkZCIsImxlbmd0aCIsInJlbW92ZSIsInZhbGlkRW1haWwiLCJpbmRleE9mIiwibWF0Y2giLCJjb25zb2xlIiwibG9nIiwicGFzc1ZhbGlkIiwiaW5wdXRDb25mIiwidmFsaWRQaG9uZSIsInZhbGlkTnVtIiwiaXNOYU4iLCJ2YWxpZENoZWNrYm94IiwiY2hlY2tlZCIsImRvY3VtZW50IiwiZm9yRWFjaCIsImNhbGwiLCJxdWVyeVNlbGVjdG9yQWxsIiwia2V5Q29kZSIsIm1hc2siLCJldmVudCIsInRoaXMiLCJzZWxlY3Rpb25TdGFydCIsInByZXZlbnREZWZhdWx0IiwibWF0cml4IiwiaSIsInZhbCIsInJlcGxhY2UiLCJuZXdfdmFsdWUiLCJhIiwiY2hhckF0IiwicmVnIiwic2xpY2UiLCJzdWJzdHIiLCJSZWdFeHAiLCJ0ZXN0IiwidHlwZSIsImJ1cmdlciIsIm1lbnVJdGVtIiwibWVudSIsImNvb2tpZXNBbGVydCIsImNvb2tpZXNBbGVydENsb3NlIiwicG9wTG9hZCIsImxldCIsImFjY2VzRm9ybSIsImlucHV0QWxsIiwiaW5wdXROYW1lIiwiaW5wdXRJaW4iLCJpbnB1dEVtYWlsIiwiaW5wdXRQaG9uZSIsImlucHV0UGFzcyIsImlucHV0Q29uZmlybVBhc3MiLCJpbnB1dE9mZXJ0IiwiaW5wdXRQZXJzb25hbCIsImJ0biIsImVsIiwiY29udGFpbnMiLCJlIiwicUZvcm0iLCJpbnB1dHNBbGwiLCJpbnB1dEVtYWxpIiwiaW5wdXRNZXNzYWdlIiwiYm9keSIsInRvZ2dsZSIsImNvb2tpZSIsImZvcm1SZWNvdmVyeSIsImZvcm1SZWNvdmVyeUVtYWlsIiwiZm9ybVJlY292ZXJ5QWdyZWUiLCJmb3JtUmVjb3ZlcnlCdG4iLCJyZXNldCIsImxvZ2luIiwibG9naW5BbGwiLCJsb2dpbkVtYWlsIiwibG9naW5QYXNzIiwibG9naW5QZXJzb25hbCJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBQUEsV0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQSxNQUFBQyxFQUFBLEVBQUFDLEdBQ0FMLEVBQUFNLGlCQUFBLFFBQUEsS0FDQU4sRUFBQU8sUUFBQU4sR0FDQUQsRUFBQVEsY0FBQUEsY0FBQUMsY0FBQSxjQUFBLEVBQUFDLE1BQUFDLFFBQUEsUUFDQVgsRUFBQVEsY0FBQUEsY0FBQUMsY0FBQSxjQUFBLEVBQUFHLFlBQUFQLEVBQUEsR0FDQUwsRUFBQVEsY0FBQUssVUFBQUMsSUFBQSxxQkFBQSxFQUNBWixFQUFBVyxVQUFBQyxJQUFBLFVBQUEsR0FDQWQsRUFBQU8sTUFBQVEsT0FBQVosR0FDQUgsRUFBQVEsY0FBQUEsY0FBQUMsY0FBQSxjQUFBLEVBQUFDLE1BQUFDLFFBQUEsUUFDQVgsRUFBQVEsY0FBQUEsY0FBQUMsY0FBQSxjQUFBLEVBQUFHLHdDQUFBVCxhQUNBSCxFQUFBUSxjQUFBSyxVQUFBQyxJQUFBLHFCQUFBLEVBQ0FaLEVBQUFXLFVBQUFDLElBQUEsVUFBQSxHQUVBZCxFQUFBTyxNQUFBUSxPQUFBWCxHQUNBSixFQUFBUSxjQUFBQSxjQUFBQyxjQUFBLGNBQUEsRUFBQUMsTUFBQUMsUUFBQSxRQUNBWCxFQUFBUSxjQUFBQSxjQUFBQyxjQUFBLGNBQUEsRUFBQUcsK0NBQUFSLGFBQ0FKLEVBQUFRLGNBQUFLLFVBQUFDLElBQUEscUJBQUEsRUFDQVosRUFBQVcsVUFBQUMsSUFBQSxVQUFBLElBR0FkLEVBQUFRLGNBQUFBLGNBQUFDLGNBQUEsY0FBQSxFQUFBQyxNQUFBQyxRQUFBLE9BQ0FYLEVBQUFRLGNBQUFLLFVBQUFHLE9BQUEscUJBQUEsRUFFQSxDQUFBLENBQ0EsQ0FFQSxTQUFBQyxXQUFBakIsRUFBQUUsRUFBQUcs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Y0FBQUMsY0FBQSxjQUFBLEVBQUFHLFlBQUFQLEVBQUEsSUFDQSxDQUFBLElBQUFrRixFQUFBaEYsTUFBQVcsUUFBQSxHQUFBLElBQ0FxRSxFQUFBL0UsY0FBQUssVUFBQUMsSUFBQSxxQkFBQSxFQUNBeUUsRUFBQS9FLGNBQUFBLGNBQUFDLGNBQUEsY0FBQSxFQUFBQyxNQUFBQyxRQUFBLFFBQ0E0RSxFQUFBL0UsY0FBQUEsY0FBQUMsY0FBQSxjQUFBLEVBQUFHLFlBQUFQLEVBQUEsSUFJQSxDQUFBLElBQUFvRixFQUFBN0QsU0FDQTZELEVBQUFqRixjQUFBSyxVQUFBQyxJQUFBLHFCQUFBLEVBR0F1RCxFQUFBeEQsVUFBQTBELFNBQUEsVUFBQSxJQUNBZCxFQUFBNUMsVUFBQUMsSUFBQSxNQUFBLEVBQ0FlLFNBQUFnRCxLQUFBaEUsVUFBQUMsSUFBQSxNQUFBLEVBRUEsQ0FBQSxFQUVBdUUsRUFBQS9FLGlCQUFBLFNBQUEsSUFDQWtFLEVBQUFsQyxlQUFBLENBQ0EsQ0FBQSxDQUNBLENBSUEsQ0FBQSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiB2YWxpZElucHV0IChpbnB1dCwgcmVzLCBzZWxlY3RvciwgbWF4ID0gOTk5OTksIG1pbiA9IDEsIGVycm9ycykge1xyXG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICBpZiAoaW5wdXQudmFsdWUgPT09IHJlcykge1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBlcnJvcnNbMF07XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnZhbHVlLmxlbmd0aCA+IG1heCkge1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBg0J/QvtC70LUg0L3QtSDQtNC+0LvQttC90L4g0L/RgNC10LLRi9GI0LDRgtGMICR7bWF4fSDRgdC40LzQstC+0LvQvtCyYDtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgc2VsZWN0b3IuY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnZhbHVlLmxlbmd0aCA8IG1pbikge1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBg0J/QvtC70LUg0LTQvtC70LbQvdC+INGB0L7RgdGC0L7Rj9GC0Ywg0LzQuNC90LjQvNGD0Lwg0LjQtyAke21pbn0g0YHQuNC80LLQvtC70L7QsmA7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiB2YWxpZEVtYWlsKGlucHV0LCBzZWxlY3RvciwgZXJyb3JzKSB7XHJcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIGlmIChpbnB1dC52YWx1ZS5pbmRleE9mKFwiQFwiKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnRleHRDb250ZW50ID0gZXJyb3JzWzFdO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICBzZWxlY3Rvci5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgfSBlbHNlIGlmICghaW5wdXQudmFsdWUubWF0Y2goL14oKFtePD4oKVtcXF0uLDs6XFxzQFwiXSsoXFwuW148PigpW1xcXS4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChbXjw+KClbXFxdLiw7Olxcc0BcIl0rXFwuKStbXjw+KClbXFxdLiw7Olxcc0BcIl17Mix9KSQvaXUpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwib2tcIik7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS50ZXh0Q29udGVudCA9IGVycm9yc1sxXTtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgc2VsZWN0b3IuY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpOyBcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBwYXNzVmFsaWQgKGlucHV0LCBpbnB1dENvbmYsIHNlbGVjdG9yLCBlcnJvcnMpIHtcclxuICAgIGlucHV0Q29uZi5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGlucHV0Q29uZi52YWx1ZSArICcgJyArIGlucHV0LnZhbHVlKTtcclxuICAgICAgICBpZiAoaW5wdXRDb25mLnZhbHVlID09PSAnJykge1xyXG4gICAgICAgICAgICBpbnB1dENvbmYucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XHJcbiAgICAgICAgICAgIGlucHV0Q29uZi5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS50ZXh0Q29udGVudCA9IGVycm9yc1swXTtcclxuICAgICAgICAgICAgaW5wdXRDb25mLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnZhbHVlICE9PSBpbnB1dENvbmYudmFsdWUgfHwgaW5wdXRDb25mLnZhbHVlICE9PSBpbnB1dC52YWx1ZSkge1xyXG4gICAgICAgICAgICBpbnB1dENvbmYucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XHJcbiAgICAgICAgICAgIGlucHV0Q29uZi5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS50ZXh0Q29udGVudCA9IGVycm9yc1szXTtcclxuICAgICAgICAgICAgaW5wdXRDb25mLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICBpbnB1dENvbmYucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcclxuICAgICAgICAgICAgaW5wdXRDb25mLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coaW5wdXRDb25mLnZhbHVlICsgJyAnICsgaW5wdXQudmFsdWUpO1xyXG4gICAgICAgIGlmIChpbnB1dC52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnRleHRDb250ZW50ID0gZXJyb3JzWzBdO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICBzZWxlY3Rvci5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgfSBlbHNlIGlmICghaW5wdXQudmFsdWUubWF0Y2goLyg/PS4qW2Etel0pL2cpKSB7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS50ZXh0Q29udGVudCA9IFwi0J/QsNGA0L7Qu9GMINC00L7Qu9C20LXQvSDRgdC+0LTQtdGA0LbQsNGC0Ywg0LzQuNC90LjQvNGD0Lwg0L7QtNC90YMg0LHRg9C60LLRgyDQsiDQvdC40LbQvdC10Lwg0YDQtdCz0LjRgdGC0YDQtVwiO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICBzZWxlY3Rvci5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAoIWlucHV0LnZhbHVlLm1hdGNoKC9eW0EtWmEtejAtOSFAIyQlXiYqXSskLykpIHtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnRleHRDb250ZW50ID0gXCLQn9Cw0YDQvtC70Ywg0LTQvtC70LbQtdC9INGB0L7QtNC10YDQttCw0YLRjCDRgtC+0LvRjNC60L4g0LvQsNGC0LjQvdGB0LrQuNC1INCx0YPQutCy0Ysg0Lgg0YbQuNGE0YDRi1wiO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICBzZWxlY3Rvci5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAoIWlucHV0LnZhbHVlLm1hdGNoKC8oPz0uKltBLVpdKS9nKSkge1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBcItCf0LDRgNC+0LvRjCDQtNC+0LvQttC10L0g0YHQvtC00LXRgNC20LDRgtGMINC80LjQvdC40LzRg9C8INC+0LTQvdGDINCx0YPQutCy0YMg0LIg0LLQtdGA0YXQvdC10Lwg0YDQtdCz0LjRgdGC0YDQtVwiO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICBzZWxlY3Rvci5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAoIWlucHV0LnZhbHVlLm1hdGNoKC8oPz0uKlswLTldKS9nKSkge1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBcItCf0LDRgNC+0LvRjCDQtNC+0LvQttC10L0g0YHQvtC00LXRgNC20LDRgtGMINGG0LjRhNGA0YtcIjtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgc2VsZWN0b3IuY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnZhbHVlIDwgbWluKSB7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS50ZXh0Q29udGVudCA9IFwi0J/QsNGA0L7Qu9GMINC00L7Qu9C20LXQvSDRgdC+0LTQtdGA0LbQsNGC0Ywg0L3QtSDQvNC10L3QtdC1IDgg0YHQuNC80LLQvtC70L7QslwiO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICBzZWxlY3Rvci5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXRDb25mLnZhbHVlICE9PSBpbnB1dC52YWx1ZSB8fCBpbnB1dC52YWx1ZSAhPT0gaW5wdXRDb25mLnZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS50ZXh0Q29udGVudCA9IGVycm9yc1szXTtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgc2VsZWN0b3IuY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgIGlucHV0Q29uZi5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xyXG4gICAgICAgICAgICBpbnB1dENvbmYucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiB2YWxpZFBob25lKGlucHV0LCByZXMsIHNlbGVjdG9yLCBtaW4gPSAxMCwgZXJyb3JzKSB7XHJcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIGlmIChpbnB1dC52YWx1ZSA9PT0gcmVzKSB7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS50ZXh0Q29udGVudCA9IGVycm9yc1swXTtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgc2VsZWN0b3IuY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudmFsdWUubGVuZ3RoIDwgbWluKSB7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS50ZXh0Q29udGVudCA9IGDQn9C+0LvQtSDQtNC+0LvQttC90L4g0YHQvtGB0YLQvtGP0YLRjCDQvNC40L3QuNC80YPQvCDQuNC3ICR7bWlufSDRgdC40LzQstC+0LvQvtCyYDtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgc2VsZWN0b3IuY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHZhbGlkTnVtKGlucHV0LCByZXMsIHNlbGVjdG9yLCBtYXggPSAyMCwgbWluID0gMTAsIGVycm9ycykge1xyXG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhpbnB1dC52YWx1ZS5sZW5ndGgpO1xyXG4gICAgICAgIGlmIChpbnB1dC52YWx1ZSA9PT0gcmVzKSB7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS50ZXh0Q29udGVudCA9IGVycm9yc1swXTtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgc2VsZWN0b3IuY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNOYU4oaW5wdXQudmFsdWUpKSB7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS50ZXh0Q29udGVudCA9IGVycm9yc1s0XTtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgc2VsZWN0b3IuY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudmFsdWUubGVuZ3RoIDwgbWluKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdvaycpO1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBg0J/QvtC70LUg0LTQvtC70LbQvdC+INGB0L7RgdGC0L7Rj9GC0Ywg0LzQuNC90LjQvNGD0Lwg0LjQtyAke21pbn0g0YHQuNC80LLQvtC70L7QsmA7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC52YWx1ZS5sZW5ndGggPiBtYXgpIHtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnRleHRDb250ZW50ID0gYNCf0L7Qu9C1INC90LUg0LTQvtC70LbQvdC+INC/0YDQtdCy0YvRiNCw0YLRjCAke21heH0g0YHQuNC80LLQvtC70L7QsmA7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gdmFsaWRDaGVja2JveChpbnB1dCwgcmVzLCBzZWxlY3Rvcikge1xyXG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICBpZiAoaW5wdXQuY2hlY2tlZCA9PT0gcmVzKSB7XHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyBwaG9uZSBtYXNrXHJcbiAgICBbXS5mb3JFYWNoLmNhbGwoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tuYW1lPVwicGhvbmVcIl0nKSwgZnVuY3Rpb24oaW5wdXQpIHtcclxuICAgICAgICB2YXIga2V5Q29kZTtcclxuICAgICAgICBmdW5jdGlvbiBtYXNrKGV2ZW50KSB7XHJcbiAgICAgICAgICBldmVudC5rZXlDb2RlICYmIChrZXlDb2RlID0gZXZlbnQua2V5Q29kZSk7XHJcbiAgICAgICAgICB2YXIgcG9zID0gdGhpcy5zZWxlY3Rpb25TdGFydDtcclxuICAgICAgICAgIGlmIChwb3MgPCAzKSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgdmFyIG1hdHJpeCA9IFwiKzcgKF9fXykgX19fIF9fX19cIixcclxuICAgICAgICAgICAgICBpID0gMCxcclxuICAgICAgICAgICAgICBkZWYgPSBtYXRyaXgucmVwbGFjZSgvXFxEL2csIFwiXCIpLFxyXG4gICAgICAgICAgICAgIHZhbCA9IHRoaXMudmFsdWUucmVwbGFjZSgvXFxEL2csIFwiXCIpLFxyXG4gICAgICAgICAgICAgIG5ld192YWx1ZSA9IG1hdHJpeC5yZXBsYWNlKC9bX1xcZF0vZywgZnVuY3Rpb24oYSkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gaSA8IHZhbC5sZW5ndGggPyB2YWwuY2hhckF0KGkrKykgOiBhXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICBpID0gbmV3X3ZhbHVlLmluZGV4T2YoXCJfXCIpO1xyXG4gICAgICAgICAgaWYgKGkgIT0gLTEpIHtcclxuICAgICAgICAgICAgICBpIDwgNSAmJiAoaSA9IDMpO1xyXG4gICAgICAgICAgICAgIG5ld192YWx1ZSA9IG5ld192YWx1ZS5zbGljZSgwLCBpKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdmFyIHJlZyA9IG1hdHJpeC5zdWJzdHIoMCwgdGhpcy52YWx1ZS5sZW5ndGgpLnJlcGxhY2UoL18rL2csXHJcbiAgICAgICAgICAgICAgZnVuY3Rpb24oYSkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gXCJcXFxcZHsxLFwiICsgYS5sZW5ndGggKyBcIn1cIlxyXG4gICAgICAgICAgICAgIH0pLnJlcGxhY2UoL1srKCldL2csIFwiXFxcXCQmXCIpO1xyXG4gICAgICAgICAgcmVnID0gbmV3IFJlZ0V4cChcIl5cIiArIHJlZyArIFwiJFwiKTtcclxuICAgICAgICAgIGlmICghcmVnLnRlc3QodGhpcy52YWx1ZSkgfHwgdGhpcy52YWx1ZS5sZW5ndGggPCA1IHx8IGtleUNvZGUgPiA0NyAmJiBrZXlDb2RlIDwgNTgpIHtcclxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IG5ld192YWx1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChldmVudC50eXBlID09IFwiYmx1clwiICYmIHRoaXMudmFsdWUubGVuZ3RoIDwgNSkge1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gXCJcIjtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgbWFzaywgZmFsc2UpO1xyXG4gICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCBtYXNrLCBmYWxzZSk7XHJcbiAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgbWFzaywgZmFsc2UpO1xyXG4gICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIG1hc2ssIGZhbHNlKTtcclxuICAgIFxyXG4gICAgICB9KTtcclxuXHJcbiAgICBjb25zdCBidXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9fYnVyZ2VyXCIpO1xyXG4gICAgY29uc3QgbWVudUl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmhlYWRlcl9fbWVudS1pdGVtXCIpO1xyXG4gICAgY29uc3QgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19tZW51XCIpO1xyXG4gICAgY29uc3QgY29va2llc0FsZXJ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb29raWVzLWFsZXJ0XCIpO1xyXG4gICAgY29uc3QgY29va2llc0FsZXJ0Q2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvb2tpZXMtYWxlcnRfX2J0blwiKTtcclxuICAgIGNvbnN0IHBvcExvYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWxvYWRcIik7XHJcbiAgICBsZXQgZXJyb3JzID0gWyfQn9C+0LvQtSDQvdC1INC30LDQv9C+0LvQvdC10L3QvicsIFwi0JLQktCV0JTQmNCi0JUg0JLQkNCoIEUtTUFJTCDQkiDQn9Cg0JDQktCY0JvQrNCd0J7QnCDQpNCe0KDQnNCQ0KLQlS5cIiwgXCLQndC10LrQvtGA0YDQtdC60YLQvdGL0Lkg0JjQmNCdXCIsIFwi0J/QsNGA0L7Qu9C4INC00L7Qu9C20L3RiyDRgdC+0LLQv9Cw0LTQsNGC0YxcIiwgXCLQndC10LrQvtGA0YDQtdC60YLQvdC+0LUg0LfQvdCw0YfQtdC90LjQtVwiXTtcclxuXHJcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hY2Nlc3NfX2Zvcm1cIikpIHtcclxuICAgICAgICBjb25zdCBhY2Nlc0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFjY2Vzc19fZm9ybVwiKTtcclxuICAgICAgICBjb25zdCBpbnB1dEFsbCA9IGFjY2VzRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRcIilcclxuICAgICAgICBjb25zdCBpbnB1dE5hbWUgPSBhY2Nlc0Zvcm0ucXVlcnlTZWxlY3RvcihcIltuYW1lPSdjb21wYW55TmFtZSddXCIpO1xyXG4gICAgICAgIGNvbnN0IGlucHV0SWluID0gYWNjZXNGb3JtLnF1ZXJ5U2VsZWN0b3IoXCJbbmFtZT0naWluJ11cIik7XHJcbiAgICAgICAgY29uc3QgaW5wdXRFbWFpbCA9IGFjY2VzRm9ybS5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J2VtYWlsJ11cIik7XHJcbiAgICAgICAgY29uc3QgaW5wdXRQaG9uZSA9IGFjY2VzRm9ybS5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J3Bob25lJ11cIik7XHJcbiAgICAgICAgY29uc3QgaW5wdXRQYXNzID0gYWNjZXNGb3JtLnF1ZXJ5U2VsZWN0b3IoXCJbbmFtZT0ncGFzc3dvcmQnXVwiKTtcclxuICAgICAgICBjb25zdCBpbnB1dENvbmZpcm1QYXNzID0gYWNjZXNGb3JtLnF1ZXJ5U2VsZWN0b3IoXCJbbmFtZT0nY29uZmlybVBhc3N3b3JkJ11cIik7XHJcbiAgICAgICAgY29uc3QgaW5wdXRPZmVydCA9IGFjY2VzRm9ybS5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J2FncmVlT2ZlcnQnXVwiKTtcclxuICAgICAgICBjb25zdCBpbnB1dFBlcnNvbmFsID0gYWNjZXNGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiYWdyZWVQZXJzb25hbFwiXScpO1xyXG4gICAgICAgIGNvbnN0IGJ0biA9IGFjY2VzRm9ybS5xdWVyeVNlbGVjdG9yKFwiW3R5cGU9J3N1Ym1pdCddXCIpO1xyXG5cclxuICAgICAgICBidG4uY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG5cclxuICAgICAgICB2YWxpZElucHV0KGlucHV0TmFtZSwgJycsIGJ0biwgMTAsIGVycm9ycyk7XHJcbiAgICAgICAgdmFsaWROdW0oaW5wdXRJaW4sICcnLCBidG4sIDEyLCAxMCwgZXJyb3JzKTtcclxuICAgICAgICB2YWxpZEVtYWlsKGlucHV0RW1haWwsIGJ0biwgZXJyb3JzKTtcclxuICAgICAgICB2YWxpZFBob25lKGlucHV0UGhvbmUsICcnLCBidG4sIDEwLCBlcnJvcnMpO1xyXG4gICAgICAgIHBhc3NWYWxpZChpbnB1dFBhc3MsIGlucHV0Q29uZmlybVBhc3MsIGJ0biwgZXJyb3JzKTtcclxuICAgICAgICB2YWxpZElucHV0KGlucHV0Q29uZmlybVBhc3MsICcnLCBidG4sIGVycm9ycyk7XHJcbiAgICAgICAgdmFsaWRDaGVja2JveChpbnB1dE9mZXJ0LCBmYWxzZSwgYnRuKTtcclxuICAgICAgICB2YWxpZENoZWNrYm94KGlucHV0UGVyc29uYWwsIGZhbHNlLCBidG4pO1xyXG5cclxuICAgICAgICBpbnB1dEFsbC5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0TmFtZS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImZvcm1fX2lucHV0LWludmFsaWRcIikgfHwgaW5wdXROYW1lLnZhbHVlID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXROYW1lLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKSB8fCBpbnB1dE5hbWUudmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dEVtYWlsLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKSB8fCBpbnB1dEVtYWlsLnZhbHVlID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXRQaG9uZS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImZvcm1fX2lucHV0LWludmFsaWRcIikgfHwgaW5wdXRQaG9uZS52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0UGFzcy5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImZvcm1fX2lucHV0LWludmFsaWRcIikgfHwgaW5wdXRQYXNzLnZhbHVlID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXRDb25maXJtUGFzcy5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImZvcm1fX2lucHV0LWludmFsaWRcIikgfHwgaW5wdXRDb25maXJtUGFzcy52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0T2ZlcnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpIHx8IGlucHV0T2ZlcnQudmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dFBlcnNvbmFsLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKSB8fCBpbnB1dFBlcnNvbmFsLnZhbHVlID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGFjY2VzRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpbnB1dE5hbWUucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlucHV0TmFtZS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImZvcm1fX2lucHV0LWludmFsaWRcIikpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5wdXRFbWFpbC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImZvcm1fX2lucHV0LWludmFsaWRcIikpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5wdXRQaG9uZS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImZvcm1fX2lucHV0LWludmFsaWRcIikpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5wdXRQYXNzLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbnB1dENvbmZpcm1QYXNzLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbnB1dE9mZXJ0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbnB1dFBlcnNvbmFsLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpbnB1dE5hbWUudmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dE5hbWUucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgICAgIGlucHV0TmFtZS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcclxuICAgICAgICAgICAgICAgIGlucHV0TmFtZS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS50ZXh0Q29udGVudCA9IGVycm9yc1swXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5wdXRJaW4udmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dElpbi5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICAgICAgaW5wdXRJaW4ucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XHJcbiAgICAgICAgICAgICAgICBpbnB1dElpbi5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS50ZXh0Q29udGVudCA9IGVycm9yc1swXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5wdXRFbWFpbC52YWx1ZS5pbmRleE9mKFwiQFwiKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0RW1haWwucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgICAgIGlucHV0RW1haWwucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XHJcbiAgICAgICAgICAgICAgICBpbnB1dEVtYWlsLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnRleHRDb250ZW50ID0gZXJyb3JzWzBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbnB1dFBob25lLnZhbHVlID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgaW5wdXRQaG9uZS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICAgICAgaW5wdXRQaG9uZS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcclxuICAgICAgICAgICAgICAgIGlucHV0UGhvbmUucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBlcnJvcnNbMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlucHV0UGFzcy52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0UGFzcy5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICAgICAgaW5wdXRQYXNzLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgICAgICAgaW5wdXRQYXNzLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnRleHRDb250ZW50ID0gZXJyb3JzWzBdO1xyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICBpZiAoaW5wdXRDb25maXJtUGFzcy52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0Q29uZmlybVBhc3MucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgICAgIGlucHV0Q29uZmlybVBhc3MucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XHJcbiAgICAgICAgICAgICAgICBpbnB1dENvbmZpcm1QYXNzLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnRleHRDb250ZW50ID0gZXJyb3JzWzBdO1xyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICBpZiAoaW5wdXRPZmVydC5jaGVja2VkID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgaW5wdXRPZmVydC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbnB1dFBlcnNvbmFsLmNoZWNrZWQgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dFBlcnNvbmFsLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnF1ZXN0aW9uc19fZm9ybVwiKSkge1xyXG4gICAgICAgIGNvbnN0IHFGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5xdWVzdGlvbnNfX2Zvcm1cIik7XHJcbiAgICAgICAgY29uc3QgaW5wdXRzQWxsID0gcUZvcm0ucXVlcnlTZWxlY3RvckFsbChcImlucHV0XCIpO1xyXG4gICAgICAgIGNvbnN0IGlucHV0TmFtZSA9IHFGb3JtLnF1ZXJ5U2VsZWN0b3IoXCJbbmFtZT0nY29tcGFueU5hbWUnXVwiKTtcclxuICAgICAgICBjb25zdCBpbnB1dEVtYWxpID0gcUZvcm0ucXVlcnlTZWxlY3RvcihcIltuYW1lPSdlbWFpbCddXCIpO1xyXG4gICAgICAgIGNvbnN0IGlucHV0UGVyc29uYWwgPSBxRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImFncmVlUGVyc29uYWxcIl0nKTtcclxuICAgICAgICBjb25zdCBpbnB1dE1lc3NhZ2UgPSBxRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIm1lc3NhZ2VcIl0nKTtcclxuICAgICAgICBjb25zdCBidG4gPSBxRm9ybS5xdWVyeVNlbGVjdG9yKFwiW3R5cGU9J3N1Ym1pdCddXCIpO1xyXG5cclxuICAgICAgICB2YWxpZElucHV0KGlucHV0TmFtZSwgJycsIGJ0biwgMTUwLCBlcnJvcnMpO1xyXG4gICAgICAgIHZhbGlkRW1haWwoaW5wdXRFbWFsaSwgYnRuLCBlcnJvcnMpO1xyXG4gICAgICAgIHZhbGlkSW5wdXQoaW5wdXRNZXNzYWdlLCAnJywgYnRuLCA5OTk5LCAzMCwgZXJyb3JzKTtcclxuICAgICAgICB2YWxpZENoZWNrYm94KGlucHV0UGVyc29uYWwsIGZhbHNlLCBidG4pO1xyXG5cclxuICAgICAgICBpbnB1dHNBbGwuZm9yRWFjaChlbCA9PiB7XHJcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXROYW1lLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0RW1hbGkucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXRQZXJzb25hbC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImZvcm1fX2lucHV0LWludmFsaWRcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dE1lc3NhZ2UucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZShcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBidG4uY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG5cclxuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGlucHV0TmFtZS52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0TmFtZS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICAgICAgaW5wdXROYW1lLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgICAgICAgaW5wdXROYW1lLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnRleHRDb250ZW50ID0gZXJyb3JzWzBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbnB1dEVtYWxpLnZhbHVlID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgaW5wdXRFbWFsaS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICAgICAgaW5wdXRFbWFsaS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcclxuICAgICAgICAgICAgICAgIGlucHV0RW1hbGkucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBlcnJvcnNbMF07XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXRFbWFsaS52YWx1ZS5pbmRleE9mKFwiQFwiKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0RW1hbGkucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgICAgIGlucHV0RW1hbGkucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XHJcbiAgICAgICAgICAgICAgICBpbnB1dEVtYWxpLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnRleHRDb250ZW50ID0gZXJyb3JzWzFdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbnB1dFBlcnNvbmFsLmNoZWNrZWQgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dFBlcnNvbmFsLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlucHV0TWVzc2FnZS52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0TWVzc2FnZS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICAgICAgaW5wdXRNZXNzYWdlLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgICAgICAgaW5wdXRNZXNzYWdlLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnRleHRDb250ZW50ID0gZXJyb3JzWzBdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIWJ0bi5jbGFzc0xpc3QuY29udGFpbnMoXCJkaXNhYmxlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgcG9wTG9hZC5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcImxvY2tcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcblxyXG4gICAgYnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgYnVyZ2VyLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgbWVudS5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbWVudUl0ZW0uZm9yRWFjaChlbCA9PiB7XHJcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgYnVyZ2VyLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgIG1lbnUuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxuXHJcbiAgICBpZiAoZG9jdW1lbnQuY29va2llLmluZGV4T2YoXCJjb29raWVPblwiKSA8IDApIHtcclxuICAgICAgICBjb29raWVzQWxlcnQuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBjb29raWVzQWxlcnRDbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIGNvb2tpZXNBbGVydC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IFwiY29va2llT249dHJ1ZVwiO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVjb3ZlcnlcIikpIHtcclxuICAgICAgICBjb25zdCBmb3JtUmVjb3ZlcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlY292ZXJ5XCIpO1xyXG4gICAgICAgIGNvbnN0IGZvcm1SZWNvdmVyeUVtYWlsID0gZm9ybVJlY292ZXJ5LnF1ZXJ5U2VsZWN0b3IoXCJbdHlwZT0nZW1haWwnXVwiKTtcclxuICAgICAgICBjb25zdCBmb3JtUmVjb3ZlcnlBZ3JlZSA9IGZvcm1SZWNvdmVyeS5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J2FncmVlUGVyc29uYWwnXVwiKTtcclxuICAgICAgICBjb25zdCBmb3JtUmVjb3ZlcnlCdG4gPSBmb3JtUmVjb3ZlcnkucXVlcnlTZWxlY3RvcihcIlt0eXBlPSdzdWJtaXQnXCIpO1xyXG5cclxuICAgICAgICBmb3JtUmVjb3ZlcnlCdG4uY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG5cclxuXHJcbiAgICAgICAgdmFsaWRFbWFpbChmb3JtUmVjb3ZlcnlFbWFpbCwgZm9ybVJlY292ZXJ5QnRuLCBlcnJvcnMpO1xyXG4gICAgICAgIHZhbGlkQ2hlY2tib3goZm9ybVJlY292ZXJ5QWdyZWUsIGZvcm1SZWNvdmVyeUJ0biwgZXJyb3JzKTtcclxuXHJcbiAgICAgICAgZm9ybVJlY292ZXJ5LnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFwiKS5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChmb3JtUmVjb3ZlcnlFbWFpbC52YWx1ZS5pbmRleE9mKFwiQFwiKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3JtUmVjb3ZlcnlFbWFpbC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1SZWNvdmVyeUJ0bi5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoZm9ybVJlY292ZXJ5QWdyZWUuY2hlY2tlZCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3JtUmVjb3ZlcnlFbWFpbC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1SZWNvdmVyeUJ0bi5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1SZWNvdmVyeUJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgICBmb3JtUmVjb3ZlcnkuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZm9ybVJlY292ZXJ5RW1haWwudmFsdWUuaW5kZXhPZihcIkBcIikgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgZm9ybVJlY292ZXJ5RW1haWwucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgICAgIGZvcm1SZWNvdmVyeUVtYWlsLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgICAgICAgZm9ybVJlY292ZXJ5RW1haWwucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBlcnJvcnNbMV07XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3JtUmVjb3ZlcnlFbWFpbC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChmb3JtUmVjb3ZlcnlBZ3JlZS5jaGVja2VkID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgZm9ybVJlY292ZXJ5QWdyZWUucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvcm1SZWNvdmVyeUVtYWlsLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5xdWVzdGlvbnNfX2Zvcm1cIikpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnF1ZXN0aW9uc19fZm9ybS1jbGVhclwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnF1ZXN0aW9uc19fZm9ybVwiKS5yZXNldCgpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9naW5fX2Zvcm1cIikpIHtcclxuICAgICAgICBjb25zdCBsb2dpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9naW5fX2Zvcm1cIik7XHJcbiAgICAgICAgY29uc3QgbG9naW5BbGwgPSBsb2dpbi5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRbcmVxdWlyZWRdXCIpO1xyXG4gICAgICAgIGNvbnN0IGxvZ2luRW1haWwgPSBsb2dpbi5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J2VtYWlsJ11cIik7XHJcbiAgICAgICAgY29uc3QgbG9naW5QYXNzID0gbG9naW4ucXVlcnlTZWxlY3RvcihcIltuYW1lPSdwYXNzd29yZCddXCIpO1xyXG4gICAgICAgIGNvbnN0IGxvZ2luUGVyc29uYWwgPSBsb2dpbi5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J2FncmVlUGVyc29uYWwnXVwiKTtcclxuICAgICAgICBjb25zdCBidG4gPSBsb2dpbi5xdWVyeVNlbGVjdG9yKFwiW3R5cGU9J3N1Ym1pdCddXCIpO1xyXG5cclxuICAgICAgICB2YWxpZEVtYWlsKGxvZ2luRW1haWwsIGJ0biwgZXJyb3JzKTtcclxuICAgICAgICB2YWxpZElucHV0KGxvZ2luUGFzcywgJycsIGJ0biwgZXJyb3JzKTtcclxuICAgICAgICB2YWxpZENoZWNrYm94KGxvZ2luUGVyc29uYWwsIGJ0biwgZXJyb3JzKTtcclxuXHJcbiAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuXHJcbiAgICAgICAgbG9naW5BbGwuZm9yRWFjaChlbCA9PiB7XHJcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAobG9naW5QYXNzLnZhbHVlID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvZ2luRW1haWwucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9naW5QZXJzb25hbC52YWx1ZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZShcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAobG9naW5QYXNzLnZhbHVlID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgbG9naW5QYXNzLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgICAgICBsb2dpblBhc3MucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XHJcbiAgICAgICAgICAgICAgICBsb2dpblBhc3MucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBlcnJvcnNbMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGxvZ2luRW1haWwudmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBsb2dpbkVtYWlsLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0LWludmFsaWRcIik7XHJcbiAgICAgICAgICAgICAgICBsb2dpbkVtYWlsLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Vycm9yXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgICAgICAgbG9naW5FbWFpbC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS50ZXh0Q29udGVudCA9IGVycm9yc1swXTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChsb2dpbkVtYWlsLnZhbHVlLmluZGV4T2YoXCJAXCIpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgbG9naW5FbWFpbC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1pbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICAgICAgbG9naW5FbWFpbC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19lcnJvclwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcclxuICAgICAgICAgICAgICAgIGxvZ2luRW1haWwucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZXJyb3JcIikudGV4dENvbnRlbnQgPSBlcnJvcnNbMV07XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGxvZ2luUGVyc29uYWwuY2hlY2tlZCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGxvZ2luUGVyc29uYWwucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFidG4uY2xhc3NMaXN0LmNvbnRhaW5zKFwiZGlzYWJsZWRcIikpIHtcclxuICAgICAgICAgICAgICAgIHBvcExvYWQuY2xhc3NMaXN0LmFkZChcInNob3dcIik7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJsb2NrXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxvZ2luLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKT0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG5cclxuXHJcbn0pOyJdfQ==
